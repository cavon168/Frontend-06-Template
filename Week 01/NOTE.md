# 学习笔记

## TicTacToe

- 规则
  - 棋盘：3*3方格
  - 双方分别持有圆圈和叉两种棋子
  - 双方交替落子
  - 率先连成三子直线的一方获胜

- 思路
  - 二位数组

  - 绘制棋盘格子
    > 换行思路<br>
    > 1. 直接创建br标签元素
    > 2. 给board div一个固定的宽度

  - 添加监听事件：分配角色表示人的对战和棋盘格状态交换律落子的运算结果
    > 空、圈、叉：空表示0、圈表示1⭕️、叉表示2❌  

  - 判断胜负，检查3行3列2斜

  - 电脑运算，增加willWin函数实现初步的AI功能

  - AI优化策略
    - 第一层策略：我要赢
    - 第二层策略：别输
    - 第三层策略：......
    - 棋谱
    - win lose 胜负剪枝：赢了就不再往下走了...

  - 人机对战
  
  - 思考问题
    - 如果用一维数组保存棋盘...
      > 使用乘法表示行列
    
    - 二维数组切换一维数组有什么好处？
      > 一旦他这个数组是一个一维数组，那么我们想要复制一个数组的话，我们就多了一种方法，我们的clone函数可以进行一次改造，利用JavaScript的原型机制，执行了一个object.create(pattern)，create出来根据JavaScript前面讲的语言相关的特点，这个clone只是创建了一个新对象并且以原有的pattern为原型，这个pattern不但继承了原来的pattern的方法同时继承了数据，所以完美的克隆了原来的pattern，因为新clone的pattern，它的生命周期要短于我们老的pattern，所以这个方法是可以代替我们原来JSON克隆的，节省很多的内存空间，里面的棋盘不需要再存一份。


- 小技巧
  - for循环使用let：词法作用域，i和j可以被保留下来；如果是var，move(j, i)就不能直接去用，得在addEventListener外面套一个ife
  - 从2变1，从1变2：给color设一个全部变量赋值1，用3减去color，最后3减1等于2，3减2 等于1，使用任何满足交换律的运算结果
  - 斜向使用{}：让win变成局部变量可以反复的声明和赋值，搭配let使用
  - 加label：如果要在两层循环里面，break掉两层循环，需要给外边加一个label
  - 一维数组的好处：节省内存空间

- 第一遍单独完成卡壳
  - 检查斜向右上的时候，把pattern[i][2 - i]写成pattern[i][i - 2]，导致找半天bug，可能没绕回来i+j=2的思维
  - willWin预检输赢
  - AI策略优化

- 第二遍理解了思维逻辑无卡壳

- 其他
  - AI实现需要靠估值的部分